@page "/configurations"
@using MudBlazor
@using Bb.MolecularSite.PropertyGridComponent


<MudButtonGroup Color="Color.Primary" Variant="Variant.Filled">
    <MudButton ButtonType="ButtonType.Button" OnClick="Cancel">@TranslateService.Translate("::Cancel")</MudButton>
    <MudButton ButtonType="ButtonType.Button" OnClick="Save">@TranslateService.Translate("::Save")</MudButton>
</MudButtonGroup>

<MudGrid Spacing="2">

    <MudItem xs=12 sm=5>

        <MudPaper>

            <MudList Clickable="true">

                <MudListSubheader>@TranslateService.Translate("Context::Title::Configurations")</MudListSubheader>

                @if (Configurations != null)
                    @foreach (var assembly in Configurations)
                    {
                        <MudListItem Icon="@Icons.Material.Filled.Inbox"
                             Text="@TranslateService.Translate(assembly.Label)"
                             InitiallyExpanded="false">

                            <NestedList>
                                @foreach (var type in assembly.Subs)
                                {
                                    <MudListItem Icon="@Icons.Material.Outlined.Settings"
                                     OnClick="@(() => Selected(type))">@TranslateService.Translate(type.Label)</MudListItem>
                                }
                            </NestedList>

                        </MudListItem>
                    }

            </MudList>

        </MudPaper>

    </MudItem>

    <MudItem xs=12 sm=7>

        <PropertyGrid SelectedObject="@CurrentItem" />

    </MudItem>

</MudGrid>

