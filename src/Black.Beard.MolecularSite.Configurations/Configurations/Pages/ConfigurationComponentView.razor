@page "/configurations"
@using MudBlazor
@using Bb.CustomComponents.PropertyGridComponent

<MudButtonGroup Color="Color.Primary" Variant="Variant.Filled">
    <MudButton ButtonType="ButtonType.Button" OnClick="Cancel">@TranslateService.Translate("p:ConfigurationComponentView.razor,l:en-us,k:Cancel,d:Cancel")</MudButton>
    <MudButton ButtonType="ButtonType.Button" OnClick="Save">@TranslateService.Translate("p:ConfigurationComponentView.razor,l:en-us,k:Save,d:Save")</MudButton>
</MudButtonGroup>

<MudGrid Spacing="2">

    <MudItem xs="6">

        <MudPaper>

            <MudList Clickable="true">

                <MudListSubheader>@TranslateService.Translate("p:ConfigurationComponentView.razor,l:en-us,k:Cancel,d:Configurations")</MudListSubheader>

                @if (Configurations != null)
                    @foreach (var assembly in Configurations)
                    {
                        <MudListItem Icon="@Icons.Material.Filled.Inbox"
                             Text="@TranslateService.Translate(assembly.Label)"
                             InitiallyExpanded="false">

                            <NestedList>
                                @foreach (var type in assembly.Subs)
                                {
                                    <MudListItem Icon="@Icons.Material.Outlined.Settings"
                                     OnClick="@(() => Selected(type))">@TranslateService.Translate(type.Label)</MudListItem>
                                }
                            </NestedList>

                        </MudListItem>
                    }

            </MudList>

        </MudPaper>

    </MudItem>

    <MudItem xs="6">

        <PropertyGrid SelectedObject="@CurrentItem" />

    </MudItem>


</MudGrid>

